<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD  Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.dealight.mapper.ReservationDetailMapper">

	<select id="findAll"
		resultType="com.dealight.domain.ReservationDetailVO">
		SELECT
		*
		FROM tbl_rsvd_dtls
	</select>


	<select id="findBySeq"
		resultType="com.dealight.domain.ReservationDetailVO">
		SELECT
		*
		FROM tbl_rsvd_dtls
		where rsvd_seq = #{rsvdSeq}
	</select>

	<insert id="insert">
		INSERT
		INTO tbl_rsvd_dtls(rsvd_id, rsvd_seq, menu_nm,
		menu_tot_qty,menu_prc)
		VALUES(#{rsvdId},seq_rsvd_dtls.nextval,#{menuNm},#{menuTotQty},#{menuPrc})
	</insert>

	<insert id="insertSelectKey">
		<selectKey keyProperty="rsvdSeq" order="BEFORE"
			resultType="long">
			select seq_rsvd_dtls.nextval from dual
		</selectKey>
		INSERT
		INTO tbl_rsvd_dtls(rsvd_id, rsvd_seq, menu_nm,
		menu_tot_qty,menu_prc)
		VALUES(#{rsvdId},#{rsvdSeq},#{menuNm},#{menuTotQty},#{menuPrc})
	</insert>

	<update id="update">
		UPDATE tbl_rsvd_dtls
		SET
		rsvd_id = #{rsvdId},
		menu_nm =
		#{menuNm},
		menu_tot_qty = #{menuTotQty},
		menu_prc = #{menuPrc}
		where
		rsvd_seq = #{rsvdSeq}
	</update>

	<delete id="delete">
		DELETE
		FROM tbl_rsvd_dtls
		WHERE rsvd_seq = #{rsvdSeq}
	</delete>


</mapper>